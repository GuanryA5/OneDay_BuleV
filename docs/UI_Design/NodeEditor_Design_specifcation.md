# BlueV节点编辑器界面设计规范（极简化版）

**文档版本**: v2.1 (极简化+刷新功能)
**创建日期**: 2025-08-31
**UI设计师**: PySide6 UI Designer
**项目**: BlueV游戏自动化蓝图框架

---

## 📋 设计概述

BlueV节点编辑器采用极简化的两栏布局设计，专注于核心功能，去除所有复杂的分类和组织功能，为用户提供最直观、高效的节点编辑体验。

### 🎯 设计目标
- **极简操作**：去除所有非必要功能，专注核心工作流程
- **扁平化管理**：所有方案采用扁平化结构，无分类层级
- **高效编辑**：最大化画布空间，提升大型工作流程编辑体验
- **直觉交互**：双击加载、右键管理，符合用户直觉

---

## 🎨 左侧项目方案面板设计（极简化）

### 功能定位
极简化的方案管理面板，采用扁平化结构，专注于方案的基本管理功能，支持手动文件管理和刷新加载。

### 扁平化界面设计
```
┌─────────────────────────────────────┐
│ 📋 项目方案                         │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 📄 登录流程                     │ │
│ │    8个节点                      │ │
│ │    自动登录游戏账号              │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ 📄 刷副本流程                   │ │
│ │    25个节点                     │ │
│ │    自动刷取副本奖励              │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ 📄 采集资源                     │ │
│ │    12个节点                     │ │
│ │    自动采集游戏资源              │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ 📄 登录组合                     │ │
│ │    3个节点                      │ │
│ │    找图→点击→延迟组合            │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ 📄 战斗循环                     │ │
│ │    6个节点                      │ │
│ │    循环→找图→分支判断组合        │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### UI交互逻辑说明

#### 方案加载交互（极简化）
- **双击加载**：用户双击任意方案项，直接加载到画布区域
- **加载确认**：如果当前画布有未保存内容，弹出简单确认对话框
- **加载反馈**：显示简单的加载进度提示

#### 右键菜单功能（4个核心功能，按指定顺序）
```
方案项右键菜单（极简版）:
┌─────────────────────────┐
│ 📋 复制                 │
│ 🗑️ 删除                │
│ 🔄 刷新                 │
│ ✏️ 重命名               │
└─────────────────────────┘
```

#### 功能详细说明

**1. 📋 复制**
- 复制选中的方案，创建一个副本
- 副本自动命名为"原名称_副本"
- 复制后的方案立即显示在列表中

**2. 🗑️ 删除**
- 删除选中的方案文件
- 弹出确认对话框防止误删
- 删除后自动刷新列表

**3. 🔄 刷新**
- **手动文件管理**：用户可以直接将方案文件放置到项目方案保存目录
- **刷新加载**：点击刷新按钮后，系统自动扫描目录并加载新的方案文件
- **文件格式支持**：支持.json或.bluev格式的方案文件自动识别
- **增量更新**：只加载新增或修改的方案文件，提升刷新效率

**4. ✏️ 重命名**
- 重命名选中的方案
- 弹出输入框，显示当前名称
- 重命名后自动保存并刷新显示

### 核心功能特性
1. **扁平化结构**
   - 所有方案直接显示在面板中
   - 无分类文件夹，无层级结构
   - 按创建时间或名称排序

2. **极简交互方式**
   - **双击直接加载方案**
   - **右键提供4个核心管理功能**

3. **直观信息展示**
   - 方案名称 + 节点数量 + 简单描述
   - 清晰的方案用途说明
   - 统一的视觉风格

---

## 🖼️ 中央画布区域设计（最大化）

### 设计理念
移除右侧属性面板后，画布区域获得50%的额外空间，为大型工作流程编辑提供更宽敞的操作环境。

### 画布特性
- **最大化空间**：占据除左侧面板外的全部可用空间
- **无限画布**：支持任意方向的滚动和缩放
- **网格背景**：提供对齐参考，增强专业感
- **智能吸附**：节点连接时的智能对齐和吸附
- **多选操作**：支持框选、批量移动、批量删除

### 节点属性配置（浮窗模式）
- **触发方式**：双击节点弹出属性配置浮窗
- **浮窗位置**：在节点附近弹出，智能避免遮挡
- **快速编辑**：支持内联编辑和滚轮快速调节参数

---

## ⌨️ 交互设计规范（极简化）

### 快捷键系统
```
核心快捷键：
Ctrl + Space        # 节点搜索
F5                  # 运行工作流程
F8                  # 暂停/继续
Ctrl + S            # 保存当前画布为方案

编辑器快捷键：
右键               # 显示节点创建菜单
Ctrl + C/V/X        # 复制/粘贴/剪切节点
Ctrl + Z/Y          # 撤销/重做
Delete              # 删除选中节点
```

### 鼠标交互规范
- **左键单击**：选中节点或取消选择
- **左键拖拽**：移动节点或框选多个节点
- **右键单击**：显示上下文菜单
- **双击节点**：弹出属性配置浮窗
- **双击方案**：加载方案到画布

---

## 🔄 用户流程设计（极简化）

### 日常使用流程
1. **启动应用**：默认显示节点编辑器页面（极简两栏布局）
2. **加载方案**：双击左侧方案面板中的方案直接加载
3. **创建节点**：右键菜单或Ctrl+Space快捷键搜索
4. **连接节点**：在最大化画布中拖拽创建工作流程
5. **测试运行**：验证流程正确性
6. **保存方案**：Ctrl+S保存当前画布为新方案

### 方案文件管理流程
1. **手动添加方案**：用户将方案文件放置到指定目录
2. **刷新加载**：右键点击"刷新"或按F5键
3. **自动识别**：系统扫描目录并加载新方案
4. **列表更新**：方案面板自动更新显示新方案

---

## ✅ 设计验收标准（极简化）

### 用户体验指标
- **学习曲线**：新用户15分钟内完成第一个工作流程
- **操作效率**：熟练用户创建复杂流程时间 < 5分钟
- **错误率**：方案加载错误率 < 1%
- **满意度**：界面简洁性评分 > 4.9/5

### 技术性能指标
- **渲染性能**：200个节点流畅编辑，拖拽延迟 < 16ms
- **内存占用**：正常使用 < 180MB，大型流程 < 350MB
- **启动时间**：界面加载时间 < 1秒
- **刷新速度**：方案列表刷新时间 < 300ms

---

## 🚀 极简化设计优势总结

### 认知负担最小化
- **扁平化结构**：无分类层级，所有方案一目了然
- **功能精简**：只保留4个核心管理功能
- **交互统一**：双击加载、右键管理，符合用户直觉

### 操作效率最大化
- **最短路径**：双击直接加载，无需多步操作
- **画布最大化**：50%额外空间，更适合大型工作流程
- **快捷操作**：Ctrl+S快速保存，F5快速刷新

### 维护成本最低化
- **代码简化**：去除复杂的导入导出逻辑
- **文件管理简化**：用户直接操作文件系统
- **测试简化**：功能减少，测试用例大幅简化

---

**文档状态**: ✅ 极简化设计规范已确认
**设计版本**: v2.1 (极简化+刷新功能)
**关键更新**: 移除加载按钮，删除导入导出，添加刷新功能
**右键菜单顺序**: 复制 → 删除 → 刷新 → 重命名
**文档位置**: docs/NodeEditor_Design_Specification.md
**下一步**: 开始PySide6极简界面实现
